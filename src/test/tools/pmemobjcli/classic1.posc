#!./pmemobjcli -s
# usage: ./classic1.posc <file>

# print root object pointer
pmemobj_direct r

# allocate root object with specified size
pmemobj_root 1024

# print root object pointer after allocation
pmemobj_direct r

# print size of root object
pmemobj_root_size

# print usable size of root object
pmemobj_alloc_usable_size r

# print type number of root object
pmemobj_type_num r

# allocate one object in root object
# at positions 0
pmemobj_alloc r.0 1 8192

# duplicate 0 pattern in root object
# at positions 1
pmemobj_strdup r.1 0 5

# print pointers of allocated objects
pmemobj_direct r.0
pmemobj_direct r.1

# print type numbers of allocated objects
pmemobj_type_num r.0
pmemobj_type_num r.1

# free allocated objects
pmemobj_free r.0
pmemobj_free r.1

# print pointer of freed object
pmemobj_direct r.0
pmemobj_direct r.1
